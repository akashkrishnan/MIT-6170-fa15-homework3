<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title><%= web.name %></title>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" type="text/css" href="/styles/global.css">
    <link rel="stylesheet" type="text/css" href="/styles/layout.css">
    <link rel="stylesheet" type="text/css" href="/styles/shadow.css">
    <link rel="stylesheet" type="text/css" href="/styles/form.css">
    <link rel="stylesheet" type="text/css" href="/styles/home.css">
  </head>

  <body fullbleed fit>

    <div masthead shadow elevation="1">
      <div name><strong><%= web.name %></strong></div>
    </div>

    <div content>
      <div layout-horizontal layout-center-justified>
        <div layout-vertical>

          <div compose-tweet layout-vertical shadow elevation="1">
            <textarea tweet-input rows="1" placeholder="What's happening?"></textarea>
          </div>

          <div feed shadow elevation="1">

            <div tweet layout-vertical>

              <div header layout-horizontal>
                <span author-name>Akash Krishnan</span>
                <a author-handle href="/akashkrishnan">@akashkrishnan</a>
                <span time>now</span>
              </div>

              <div text>This is some simple sample signature content.</div>

            </div>

          </div>

        </div>
      </div>
    </div>

    <script src="./autoresize-textarea.js"></script>
    <script src="./fritter.js"></script>

    <script>

      (function () {

        var fritter = Fritter();

        var textarea = AutoresizeTextarea( document.querySelector( 'textarea[tweet-input]' ) );
        textarea.addSubmitListener( function ( text ) {
          fritter.tweet.add( { text: text }, function ( err, tweet ) {
            if ( err ) {
              console.error( err );
              alert( err );
            } else {
              textarea.clear();
              addTweet( tweet );
            }
          } );
        } );

        var addTweet = function ( tweet ) {
          console.log( tweet );
        };

      })();

    </script>

  </body>

</html>
